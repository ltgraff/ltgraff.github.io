<!doctype html>
<html lang="en">
<head>
	<meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SimplePCs</title>
	<!--<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap">-->
    <style>
		body {
			font-family: 'Arial', sans-serif;
			color: white;
			background-color: rgb(10, 10, 255);
		}

        .font-roboto {
            font-family: 'Roboto', sans-serif;
			color: white;
        }

		.font-sans-serif {
			font-family: 'Arial', sans-serif;
			color: white;
		}

		h1, h2, h3 {
			font-family: 'Georgia', serif;
			color: white;
		}

		.left {
			position: fixed;
			width: 150px;
			background-color: rgb(10, 10, 255);
			border: 2px;
			padding: 20px;
			flex-grow: 1;
			height: 100%;
		}
		
		.container {
			margin-left: 192px;
			display: flex;
		}

		.column1 {
			width: 100%;
			padding: 20px;
			background-color: rgb(100, 10, 55);
			background-color: rgb(10, 10, 255);
		}

		.column2 {
			background-color: rgb(100, 10, 255);
			background-color: rgb(10, 10, 255);
			height: auto;
		}

		a {
			color: white;
			text-decoration: none;
		}

		a:hover {
			color: cyan;
		}
    </style>
</head>
<body>
	<div class="left">
	<h1 style="font-size: 24px; text-align: center; overflow: hidden;">
		<b> SimplePCs </b>
	</h1>
	<h2 style="font-size: 20px; text-decoration: underline;">
	<br />
	<br />
	<br />
	<ul>
		<li><a href="#head">Home</a></li>
		<br />
		<br />
		<br />
		<br />
		<li><a href="#initial_text">Pricing</a></li>
		<br />
		<br />
		<br />
		<br />
		<br />
		<li><a href="#initial_text">About</a></li>
		<br />
		<br />
		<br />
		<br />
		<br />
		<li><a href="mailto:help@simplepcs.tech">Email</a></li>
	</ul>
	</h2>
	</div>
	<div class="container" style="z-index: 4; position: relative;" id="initial_text">
		<div class="column1" style='padding-right: 70px;'>
			<h1>
				Coming soon... all of this text is in one font 1 2 3 4 5 6 7 8 9 0 a b c d e f g h i Z A B C 
			</h1>
			<p style="font-size: 30px;">
				Coming soon... all of this text is in one font 1 2 3 4 5 6 7 8 9 0 a b c d e f g h i Z A B C 
			</p>
			<br />
			<p class="font-sans-serif" style="font-size: 30px;">
				Coming soon... all of this text is in one font 1 2 3 4 5 6 7 8 9 0 a b c d e f g h i Z A B C 
			</p>
		</div>
		<div class="column2" id="dynamic_content0" style='padding-right: 70px; padding-left: 50px; padding-top: 100px; background-color: rgb(200, 100, 100);'></div>
	</div>
<script>
////////////////////////////////////////////////////////////////////////////////////

// List of image details
// screen_ratio is how wide the image should be on a 1920 screen
var g_image_names = [
	{
		id: "laptop_picture_wp.jpg",
		alt: "older person using a laptop computer",
		screen_ratio: 380/1920
	},
	{
		id: "2laptop_picture_wp.jpg",
		alt: "2older person using a laptop computer",
		screen_ratio: 350/1920
	}
];

class image_info {
	constructor() {
		this.width = 100;
		this.height = 0;
		this.size_ratio = 0;
		this.id = "";
		this.alt = "";
		this.screen_ratio = 0;
	}

	set_dimensions(w, h) {
		this.width = w;
		this.height = h;
		this.size_ratio = h/w;
	}
}

var g_images = [ ];

function render_rect_image(image, layout) {
	let ret = "";

	let width = image.screen_ratio*window.innerWidth;
	let height = image.size_ratio*width;
	let hmult = 1;
	let wmult = 1;

	switch (layout) {
		case 0:
		console.log("layout 0");
		break;

		case 1:
		hmult = -1;
		console.log("layout 1");
		break;

		case 2:
		console.log("layout 2");
		wmult = -1;
		hmult = -1;
		break;

		default:
		console.log("layout: (default): "+layout);
		wmult = -1;
		break;
	}

	console.log("test json: "+g_image_names[0].id);
	ret += "<img id='"+image.id+"' src='"+image.id+"' alt='"+image.alt+"'; style='position: relative; margin-left: 0; z-index: 9; width: "+width+"px; height: "+height+"px;'>\n";

	// Black outline
	ret += "<div style='position: relative; margin-left: 0px; z-index: 4; width: "+
			(width+4)+"px; height: "+(height+4)+"px; background-color: rgba(0, 0, 0, 1.0); top: "+
			(-(height+6))+"px; left: "+(-2)+"px;'></div>\n";
	// Rect1
	ret += "<div style='position: relative; margin-left: 0px; z-index: 3; width: "+
			width+"px; height: "+height+"px; background-color: rgba(255, 0, 0, 0.7); top: "+
			(-((height*2)+(24*hmult)))+"px; left: "+(24*wmult)+"px;'></div>\n";
	// Rect2
	ret += "<div style='position: relative; margin-left: 0px; z-index: 2; width: "+
			width+"px; height: "+height+"px; background-color: rgba(0, 255, 0, 0.6); top: "+
			(-((height*3)+(44*hmult)))+"px; left: "+(44*wmult)+"px;'></div>\n";
	// Rect3
	ret += "<div style='position: relative; margin-left: 0px; z-index: 1; width: "+
			width+"px; height: "+height+"px; background-color: rgba(90, 90, 55, 0.5); top: "+
			(-((height*4)+(64*hmult)))+"px; left: "+(64*wmult)+"px;'></div>\n";

	console.log("!! image width: "+image.width+", image height: "+image.height);
	console.log("!! rect width: "+width+", rect height: "+height);
	console.log("!! *"+ret+"*");
	return ret;
}

function render_all_images() {
	let page_elem;
	let image;

	for (let i = 0; i < g_images.length; i++) {
		page_elem = document.getElementById("dynamic_content"+i);
		if (!page_elem) {
			console.log("Error: dynamic_content"+i+" could not be found");
			return 0;
		}
		image = g_images[i];
		if (!image) {
			console.log("Error: image: "+g_images[i].id+" could not be found");
			return 0;
		}
		page_elem.innerHTML = render_rect_image(image, 0);
	}
	return 1;
}

window.onresize = () => render_all_images();

/*
* Load all images (and do not display them) with a width of 100, then determine the ratio based on height
*/
function init() {
	let i = 0;
	let ld = "";
	let page_elem;

	// Initial image load
	for (i = 0; i < g_image_names.length; i++) {
		console.log(i+": "+g_image_names[i].id+"  (image id) screen_ratio: "+g_image_names[i].screen_ratio);
		g_images.push(new image_info());
		g_images[i].id = g_image_names[i].id;
		g_images[i].screen_ratio = g_image_names[i].screen_ratio;
		g_images[i].alt = g_image_names[i].alt;
		ld = "<img id='"+g_image_names[i].id+"' src='"+g_image_names[i].id+"' style='width: 100px; height: auto; display: none;'>";
		page_elem = document.getElementById("dynamic_content"+i);
		if (!page_elem) {
			console.log("dynamic_content"+i+" could not be found at init");
			break;
		}
		page_elem.innerHTML = ld;
		console.log("displayed image with: "+ld);
	}

	// Grab image details
	for (i = 0; i < g_images.length; i++) {
		image = document.getElementById(g_images[i].id);
		if (image) {
			g_images[i].set_dimensions(image.width, image.height);
			console.log("image.height: "+image.height+"\n-----------------\n");
			console.log(g_images[i].width+", "+g_images[i].height);
		} else {
			console.log("could not find image with id: "+g_images[i].id);
		}
	}
	console.log("init successful");
	return 1;
}

init();
render_all_images();

////////////////////////////////////////////////////////////////////////////////////
</script>
</body>
</html>
